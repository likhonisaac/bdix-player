<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BDIX Media Player - Advanced Streaming with Autoplay and Sample Videos</title>
    <meta name="description" content="Experience seamless streaming with our advanced media player, featuring autoplay and sample videos.">
    <meta name="keywords" content="media player, streaming, sample videos, autoplay">
    <meta name="author" content="Your Name">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/plyr/3.7.8/plyr.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        .gradient-bg {
            background: linear-gradient(135deg, #1a1c2c 0%, #4a5568 100%);
        }
        .player-wrapper {
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        .stream-status.online {
            background-color: #48bb78;
        }
        .stream-status.offline {
            background-color: #f56565;
        }
        .pulse {
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        .hover-scale {
            transition: transform 0.2s;
        }
        .hover-scale:hover {
            transform: scale(1.02);
        }
        .custom-scrollbar::-webkit-scrollbar {
            width: 8px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.2);
            border-radius: 4px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
            background: rgba(255, 255, 255, 0.3);
        }
    </style>
    <link rel="icon" type="image/png" href="favicon.png">
    <meta name="theme-color" content="#1a1c2c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="BDIX Media Player">
    <link rel="manifest" href="manifest.json">
</head>
<body class="bg-gray-900 text-white min-h-screen">
    <header class="text-center mb-12 gradient-bg rounded-lg p-8">
        <h1 class="text-5xl font-bold mb-4">BDIX Media Player</h1>
        <p class="text-xl text-gray-300">Advanced Streaming with Autoplay and Sample Videos</p>
    </header>

    <main class="container mx-auto px-4 py-8">
        <div class="max-w-6xl mx-auto bg-gray-800 rounded-xl overflow-hidden player-wrapper">
            <div class="flex items-center justify-between px-6 py-3 bg-gray-700">
                <div class="flex items-center">
                    <div class="stream-status offline w-3 h-3 rounded-full mr-2 pulse" id="statusIndicator"></div>
                    <span id="streamStatus" class="sr-only">Stream Offline</span>
                </div>
            </div>

            <div class="relative aspect-w-16 aspect-h-9">
                <video id="player" playsinline autoplay controls crossorigin="anonymous" class="w-full h-full">
                    <source type="application/x-mpegURL" id="videoSource">
                </video>
                <div id="loadingOverlay" class="hidden absolute inset-0 bg-black bg-opacity-75 flex items-center justify-center">
                    <div class="loading-spinner text-4xl"><i class="fas fa-circle-notch fa-spin"></i></div>
                </div>
            </div>

            <div class="p-6 bg-gray-800">
                <div class="grid grid-cols-1 gap-6">
                    <!-- Stream URL Input -->
                    <div>
                        <label for="streamUrl" class="block text-gray-300 text-sm font-bold mb-2">Stream URL</label>
                        <div class="flex">
                            <input type="text" id="streamUrl" class="flex-1 px-4 py-2 bg-gray-700 border border-gray-600 rounded-l-lg text-white" placeholder="Enter stream URL...">
                            <button onclick="loadStream()" class="px-6 py-2 bg-blue-600 text-white rounded-r-lg hover:bg-blue-500">
                                <i class="fas fa-play mr-2"></i> Load
                            </button>
                        </div>
                    </div>

                    <!-- Sample Videos Selection -->
                    <div>
                        <label for="sampleVideos" class="block text-gray-300 text-sm font-bold mb-2">Sample Videos</label>
                        <select id="sampleVideos" class="w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white" onchange="loadSampleVideo()">
                            <option value="">Select a sample video</option>
                            <option value="https://github.com/likhonisaac/bdix-player/raw/refs/heads/main/2065511104994570643.mp4">Sample Video 1</option>
                            <option value="https://samplelib.com/lib/preview/mp4/sample-5s.mp4">Sample Video 2 (5 seconds)</option>
                            <option value="https://samplelib.com/lib/preview/mp4/sample-10s.mp4">Sample Video 3 (10 seconds)</option>
                        </select>
                    </div>

                    <!-- Generate Embed Button -->
                    <button onclick="generateEmbed()" class="mt-4 px-4 py-3 bg-green-600 rounded-lg hover:bg-green-500 flex items-center justify-center">
                        <i class="fas fa-code mr-2"></i> Generate Embed
                    </button>

                    <!-- Embed Code Display -->
                    <div id="embedCode" class="hidden mt-4">
                        <label for="embedCodeText" class="block text-gray-300 text-sm font-bold mb-2">Embed Code</label>
                        <div class="relative">
                            <textarea id="embedCodeText" rows="3" class="w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white" readonly></textarea>
                            <button onclick="copyEmbedCode()" class="absolute right-2 top-2 px-3 py-1 bg-gray-600 rounded hover:bg-gray-500">
                                <i class="fas fa-copy"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const player = new Plyr('#player', {
            autoplay: true,
            controls: ['play-large', 'play', 'progress', 'current-time', 'mute', 'volume', 'fullscreen'],
        });

        const defaultVideoUrl = "https://github.com/likhonisaac/bdix-player/raw/refs/heads/main/2065511104994570643.mp4";

        function getQueryParam(param) {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get(param);
        }

        function loadVideo(url) {
            const video = document.getElementById('player');
            const statusIndicator = document.getElementById('statusIndicator');
            const streamStatus = document.getElementById('streamStatus');
            document.getElementById('loadingOverlay').classList.remove('hidden');

            if (Hls.isSupported()) {
                const hls = new Hls();
                hls.loadSource(url);
                hls.attachMedia(video);
                hls.on(Hls.Events.MANIFEST_PARSED, () => {
                    player.play();
                    document.getElementById('loadingOverlay').classList.add('hidden');
                    statusIndicator.classList.add('online');
                    statusIndicator.classList.remove('offline');
                    streamStatus.textContent = 'Stream Online';
                });
            } else {
                video.src = url;
                video.onloadedmetadata = () => {
                    player.play();
                    document.getElementById('loadingOverlay').classList.add('hidden');
                    statusIndicator.classList.add('online');
                    statusIndicator.classList.remove('offline');
                    streamStatus.textContent = 'Stream Online';
                };
            }
        }

        function loadStream() {
            const url = document.getElementById('streamUrl').value;
            loadVideo(url);
        }

        function loadSampleVideo() {
            const sampleUrl = document.getElementById('sampleVideos').value;
            if (sampleUrl) {
                loadVideo(sampleUrl);
            }
        }

        function generateEmbed() {
            const url = document.getElementById('streamUrl').value || document.getElementById('sampleVideos').value || defaultVideoUrl;
            document.getElementById('embedCodeText').value = `<iframe src="${url}" frameborder="0" width="100%" height="100%"></iframe>`;
            document.getElementById('embedCode').classList.remove('hidden');
        }

        function copyEmbedCode() {
            const embedCodeText = document.getElementById('embedCodeText');
            embedCodeText.select();
            document.execCommand('copy');
            alert('Embed code copied to clipboard');
        }

        window.onload = () => {
            const videoUrl = getQueryParam('url') || defaultVideoUrl;
            loadVideo(videoUrl);
        };
    </script>
</body>
</html>
